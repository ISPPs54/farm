local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/ISPPs54/Ui/main/ui"))()

local Window = library:AddWindow("Muscle Legend V1", {
    main_color = Color3.fromRGB(41, 74, 122),
    min_size = Vector2.new(400, 350),
    toggle_key = Enum.KeyCode.RightShift,
    can_resize = true,
})

local Farm = Window:AddTab("Farm")
local Kill = Window:AddTab("Kill")
local Teleport = Window:AddTab("Teleport")
local Misc = Window:AddTab("Misc")
local Credit = Window:AddTab("Credit")
local Avatar = Window:AddTab("Avatar")

do 

Kill:AddTextBox("WhiteList [Player]", function(val)
	if val then
		local PlrW = game:GetService("Players"):FindFirstChild(val)
		if PlrW then
			getgenv()[PlrW.Name] = true
		end
	end
end, {
	["clear"] = false,
})

Kill:AddSwitch("Auto Kill", function(v)
    getgenv().AutoKill = v 
end)
spawn(function()
   while wait() do
    if getgenv().AutoKill then
        pcall(function()
            local mycharacter = game.Players.LocalPlayer.Character
            for _, player in ipairs(game.Players:GetPlayers()) do
                if player ~= game.Players.LocalPlayer and player.Character and not getgenv()[player.Name] then
                    local charkterkiller = player.Character
                    if charkterkiller then
                        charkterkiller.Head.Anchored = true
                        charkterkiller.Head.CanCollide = false
                        pcall(function()
                            if charkterkiller.Head.Neck.Name == "Neck" and charkterkiller.Head.nameGui then
                                charkterkiller.Head.nameGui:Clone().Parent = charkterkiller.UpperTorso
                                charkterkiller.Head.Neck:Destroy()
                                charkterkiller.Head.nameGui:Destroy()
                                charkterkiller.Head.Transparency = 1
                                charkterkiller.Head.Face:Destroy()
                            end
                        end)
                        pcall(function()
                            local args = {[1] = "punch",[2] = "leftHand"}
                            game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
                            local args = {[1] = "punch",[2] = "rightHand"}
                            game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
                            wait()
                            charkterkiller.Head.Position = Vector3.new(mycharacter.LeftHand.Position.X, mycharacter.LeftHand.Position.Y, mycharacter.LeftHand.Position.Z)
                        end)
                    end
                end
            end
        end)
    end
   end
end)

Misc:AddButton("Anti Afk", function()
     game:GetService("Players").LocalPlayer.Idled:connect(
function()
    game:GetService("VirtualUser"):Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
    wait(1)
    game:GetService("VirtualUser"):Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
end)

Teleport:AddButton("Tiny Island", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-36.00175476074219, 6.980721950531006, 1890.6890869140625)
     end)

Teleport:AddButton("Frost Gym", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-2623.022216796875, 6.82747745513916, -409.0733337402344)
     end)

Teleport:AddButton("Mystical Gym", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(2250.778076171875, 6.827476978302002, 1073.2266845703125)
      end)

Teleport:AddButton("Eternal Gym", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-6758.9638671875, 6.827489852905273, -1284.918701171875)
      end)

Teleport:AddButton("Legend Gym", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(4603.28173828125, 990.9803466796875, -3897.86572265625)
      end)

Teleport:AddButton("Muscle King", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-8625.931640625, 16.677501678466797, -5730.47314453125)
      end)

Teleport:AddButton("Island Without Spin", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(1954.031494140625, -0.2819780111312866, 6184.93310546875)
      end)

Teleport:AddButton("Island With Spin", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-2605.2099609375, -0.7466869354248047, 5733.95654296875)
      end)

Misc:AddTextBox("Walk Speed", function(v)
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = v
end, {
    ["clear"] = false,
})

Misc:AddTextBox("JumpPower", function(v)
    game.Players.LocalPlayer.Character.Humanoid.JumpPower = v
end, {
    ["clear"] = false,
})

Misc:AddTextBox("HipHeight", function(v)
    game.Players.LocalPlayer.Character.Humanoid.HipHeight = v
end, {
    ["clear"] = false,
})

Credit:AddLabel("Script Made By ZTX")

Credit:AddLabel("Roblox User ZtxByEK2F")

Credit:AddLabel("Friend Version")

Credit:AddLabel("Discord Telegram.1337")

Misc:AddButton("Walk On Water", function()
    local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")


local baseplate = Instance.new("Part")
baseplate.Size = Vector3.new(1000, 0.1, 1000) 
baseplate.Anchored = true 
baseplate.Transparency = 1 
baseplate.Position = Vector3.new(0, -8, 0) 
baseplate.Parent = game.Workspace 


local function updateBaseplatePosition()
    local feetPosition = character.HumanoidRootPart.Position - Vector3.new(0, humanoid.HipHeight, 0)
    baseplate.Position = Vector3.new(feetPosition.X, baseplate.Position.Y, feetPosition.Z) 
end

humanoid:GetPropertyChangedSignal("HipHeight"):Connect(updateBaseplatePosition)
updateBaseplatePosition() 

game:GetService("RunService").Stepped:Connect(updateBaseplatePosition)

end)

Misc:AddButton("Night Sky", function()
    	game.Lighting.FogStart = 10
	game.Lighting.FogEnd = 120
	game.Lighting.FogColor = Color3.new(0, 0, 0)
	game.Lighting.TimeOfDay = "00:00"
end)

Misc:AddButton("Full Bright", function()
    	pcall(function()
		local lighting = game:GetService("Lighting");
		lighting.Ambient = Color3.fromRGB(255, 255, 255);
		lighting.Brightness = 1;
		lighting.FogEnd = 1e10;
		for i, v in pairs(lighting:GetDescendants()) do
			if v:IsA("BloomEffect") or v:IsA("BlurEffect") or v:IsA("ColorCorrectionEffect") or v:IsA("SunRaysEffect") then
				v.Enabled = false;
			end;
		end;
		lighting.Changed:Connect(function()
			lighting.Ambient = Color3.fromRGB(255, 255, 255);
			lighting.Brightness = 1;
			lighting.FogEnd = 1e10;
		end);
		spawn(function()
			local character = game:GetService("Players").LocalPlayer.Character;
			while wait() do
				repeat wait() until character ~= nil;
				if not character.HumanoidRootPart:FindFirstChildWhichIsA("PointLight") then
					local headlight = Instance.new("PointLight", character.HumanoidRootPart);
					headlight.Brightness = 1;
					headlight.Range = 60;
				end;
			end;
		end);
	end)
end)

Misc:AddButton("Fps Boost", function()
    local function GetReduce(v)
        if v:IsA("Part") then
            v.Material = Enum.Material.Plastic
        elseif v.ClassName:match("Light") then
            v:Destroy()
        elseif v.ClassName:match("Effect") then
            pcall(function()
                v.Enabled = false
            end)
        end
    end
    local Lighting = game:GetService("Lighting")
    for i, v in ipairs(Lighting:GetChildren()) do
        GetReduce(v)
    end
    Lighting.DescendantAdded:Connect(GetReduce)
    local workspace = game:GetService("Workspace")
    for i, v in ipairs(workspace:GetDescendants()) do
        GetReduce(v)
    end
    workspace.DescendantAdded:Connect(GetReduce)
end)
